{
  "uuid": "WXS3",
  "titre": "",
  "theme": "",
  "niveau": "",
  "metadata": {
    "exo7id": "5286",
    "auteur": "rouget",
    "createdAt": "2010-07-04",
    "hasIndication": "false",
    "hasCorrection": "true",
    "chapitre": "Dénombrement",
    "sousChapitre": "Cardinal",
    "organisation": "",
    "updatedAt": "2025-02-10T15:38:50.192Z"
  },
  "contenu": [
    {
      "id": "f4ea8000-f671-4987-a7c5-fc82285e6a1a",
      "type": "description",
      "value": {
        "latex": "",
        "html": "\n"
      }
    },
    {
      "id": "1a4d765c-7378-4d2b-a15a-ea9a4ba6c947",
      "type": "question",
      "value": {
        "latex": "Soit $E$ un ensemble fini et non vide. Soient $n$ un entier naturel non nul et $A_1$,..., $A_n$, $n$ parties de $E$. Montrer la \\og~formule du crible~\\fg~:\n\n$$\\begin{align*}\\ensuremath\n\\mbox{card}(A_1\\cup...\\cup A_n)&=\\sum_{i=1}^{n}\\mbox{card}(A_i)-\\sum_{1\\leq i_1< i_2\\leq n}^{}\\mbox{card}(A_{i_1}\\cap A_{i_2})\\\\\n &+...+(-1)^{k-1}\\sum_{1\\leq i_1<i_2<...<i_k\\leq n}^{}\\mbox{card}(A_{i_1}\\cap A_{i_2}\\cap...\\cap A_{i_k})\\\\\n &+...+(-1)^{n-1}\\mbox{card}(A_1\\cap...\\cap A_n).\n\\end{align*}$$",
        "html": "<p>Soit <span class=\"math inline\">\\(E\\)</span> un ensemble fini et non vide. Soient <span class=\"math inline\">\\(n\\)</span> un entier naturel non nul et <span class=\"math inline\">\\(A_1\\)</span>,..., <span class=\"math inline\">\\(A_n\\)</span>, <span class=\"math inline\">\\(n\\)</span> parties de <span class=\"math inline\">\\(E\\)</span>. Montrer la  formule du crible  :</p>\n<p><span class=\"math display\">\\[\\begin{align*}\\ensuremath\n\\mbox{card}(A_1\\cup...\\cup A_n)&amp;=\\sum_{i=1}^{n}\\mbox{card}(A_i)-\\sum_{1\\leq i_1&lt; i_2\\leq n}^{}\\mbox{card}(A_{i_1}\\cap A_{i_2})\\\\\n &amp;+...+(-1)^{k-1}\\sum_{1\\leq i_1&lt;i_2&lt;...&lt;i_k\\leq n}^{}\\mbox{card}(A_{i_1}\\cap A_{i_2}\\cap...\\cap A_{i_k})\\\\\n &amp;+...+(-1)^{n-1}\\mbox{card}(A_1\\cap...\\cap A_n).\n\\end{align*}\\]</span></p>\n"
      }
    },
    {
      "id": "7572aa0f-cc2c-48b9-8075-592ddd8f0bdd",
      "type": "reponse",
      "value": {
        "latex": "$$\\begin{align*}\\ensuremath\n\\chi_{A_1\\cup...\\cup A_n}&=1-\\chi_{\\overline{A_1\\cup...\\cup A_n}}\n=1-\\chi_{\\overline{A_1}\\cap...\\cap\\overline{A_n}}=1-\\chi_{\\overline{A_1}}\\times...\\times\\chi_{\\overline{A_n}}\\\\\n &=1-(1-\\chi_{A_1})...(1-\\chi_{A_n})=1-(\\sum_{k=1}^{n}(-1)^{k-1}(\\sum_{1\\leq i_1<...<i_k\\leq n}^{}\\chi_{A_{i_1}}...\\chi_{A_{i_k}}))\n\\end{align*}$$\n\net en sommant sur l'ensemble des $x$ de $E$, on obtient le résultat.",
        "html": "<p><span class=\"math display\">\\[\\begin{align*}\\ensuremath\n\\chi_{A_1\\cup...\\cup A_n}&amp;=1-\\chi_{\\overline{A_1\\cup...\\cup A_n}}\n=1-\\chi_{\\overline{A_1}\\cap...\\cap\\overline{A_n}}=1-\\chi_{\\overline{A_1}}\\times...\\times\\chi_{\\overline{A_n}}\\\\\n &amp;=1-(1-\\chi_{A_1})...(1-\\chi_{A_n})=1-(\\sum_{k=1}^{n}(-1)^{k-1}(\\sum_{1\\leq i_1&lt;...&lt;i_k\\leq n}^{}\\chi_{A_{i_1}}...\\chi_{A_{i_k}}))\n\\end{align*}\\]</span></p>\n<p>et en sommant sur l’ensemble des <span class=\"math inline\">\\(x\\)</span> de <span class=\"math inline\">\\(E\\)</span>, on obtient le résultat.</p>\n"
      }
    },
    {
      "id": "5f4e6449-fb34-4b3c-92f6-1fe5f859a030",
      "type": "question",
      "value": {
        "latex": "Combien y a-t-il de permutations $\\sigma$ de $\\{1,...,n\\}$ vérifiant $\\forall i\\in\\{1,...,n\\},\\;\\sigma(i)\\neq i$~?~(Ces permutations sont appelées dérangements (permutations sans point fixe)). Indication~:~noter $A_i$ l'ensemble des permutations qui fixent $i$ et utiliser 1).\n\nOn peut alors résoudre un célèbre problème de probabilité, le problème des chapeaux. $n$ personnes laissent leur chapeau à un vestiaire. En repartant, chaque personne reprend un chapeau au hasard. Montrer que la probabilité qu'aucune de ces personnes n'ait repris son propre chapeau est environ $\\frac{1}{e}$ quand $n$ est grand.",
        "html": "<p>Combien y a-t-il de permutations <span class=\"math inline\">\\(\\sigma\\)</span> de <span class=\"math inline\">\\(\\{1,...,n\\}\\)</span> vérifiant <span class=\"math inline\">\\(\\forall i\\in\\{1,...,n\\},\\;\\sigma(i)\\neq i\\)</span> ? (Ces permutations sont appelées dérangements (permutations sans point fixe)). Indication : noter <span class=\"math inline\">\\(A_i\\)</span> l’ensemble des permutations qui fixent <span class=\"math inline\">\\(i\\)</span> et utiliser 1).</p>\n<p>On peut alors résoudre un célèbre problème de probabilité, le problème des chapeaux. <span class=\"math inline\">\\(n\\)</span> personnes laissent leur chapeau à un vestiaire. En repartant, chaque personne reprend un chapeau au hasard. Montrer que la probabilité qu’aucune de ces personnes n’ait repris son propre chapeau est environ <span class=\"math inline\">\\(\\frac{1}{e}\\)</span> quand <span class=\"math inline\">\\(n\\)</span> est grand.</p>\n"
      }
    },
    {
      "id": "58fbeb90-cf83-466b-8c74-603aafc72738",
      "type": "reponse",
      "value": {
        "latex": "Pour $1\\leq k\\leq n$, posons $A_k=\\{\\sigma\\in S_n/\\;\\sigma(k)=k\\}$. L'ensemble des permutations ayant au moins un point fixe est $A_1\\cup A_2\\cup...\\cup A_n$. L'ensemble des permutations sans points fixes est le complémentaire dans $S_n$ de $A_1\\cup A_2\\cup...\\cup A_n$.\n\nD'après 1), leur nombre est donc~:\n\n$$\\begin{align*}\\ensuremath\n\\mbox{card}(S_n)-\\mbox{card}(A_1\\cup A_2...\\cup A_n)\n&=\\mbox{card}(S_n)-\\sum_{i=1}^{n}\\mbox{card}(A_i)+\\sum_{i<j}^{}\\mbox{card}(A_i\\cap A_j)\\\\\n &-...+(-1)^{k}\\sum_{i_1<i_2<...<i_k}^{}\\mbox{card}(A_{i_1}\\cap...A_{i_k})+...\\\\\n &+(-1)^{n}\\mbox{card}(A_1\\cap...\\cap A_n).\n\\end{align*}$$ \n\n$A_i$ est l'ensemble des permutations qui fixent $i$. Il y en a $(n-1)!$ ( nombre de permutations de $\\{1,...,n\\}\\setminus\\{i\\}$). $A_i\\cap A_j$ est l'ensemble des permutations qui fixent $i$ et $j$. Il y en a $(n-2)!$. Plus généralement, $\\mbox{card}(A_{i_1}\\cap...\\cap A_{i_k})=(n-k)!$.\n\nD'autre part, il y a $n=C_n^1$ entiers $i$ dans $\\{1,n\\}$ puis $C_n^2$ couples $(i,j)$ tels que $i<j$ et plus généralement, il y a $C_n^k$ $k$-uplets $(i_1,...,i_k)$ tels que $i_1<i_2< ...<i_k$. Le nombre de dérangements est  \n\n$$n!+\\sum_{k=1}^{n}(-1)^k\\frac{n!}{k!(n-k)!}(n-k)!=n!\\sum_{k=0}^{n}\\frac{(-1)^k}{k!}.$$\n \nAinsi le \\og~problème des chapeaux~\\fg admet pour réponse\n\n$$p_n=\\sum_{k=0}^{n}\\frac{(-1)^k}{k!}.$$ \n\nMontrons que cette suite tend très rapidement vers $\\frac{1}{e}=0,36...$ quand $n$ tend vers l'infini.\n\n(On adapte un  calcul déjà mené pour le nombre $e$.)\n\nMontrons que $\\forall n\\in\\Nn,\\;e^{-1}=\\sum_{k=0}^{n}\\frac{(-1)^k}{k!}+(-1)^{n+1}\\int_{0}^{1}\\frac{(1-t)^n}{n!}e^{-t}\\;dt$.\n\nPour $n=0$, $(-1)^{n+1}\\int_{O}^{1}\\frac{(1-t)^n}{n!}e^{-t}\\;dt=-\\int_{0}^{1}e^{-t}\\;dt=-1+e^{-1}$ et donc, on a bien $e^{-1}=1-\\int_{0}^{1}e^{-t}\\;dt$.\n\nSoit $n\\geq0$. Supposons que $e^{-1}=\\sum_{k=0}^{n}\\frac{(-1)^k}{k!}+(-1)^{n+1}\\int_{0}^{1}\\frac{(1-t)^n}{n!}e^{-t}\\;dt$.\n\nUne intégration par parties fournit\n\n$$\\int_{0}^{1}\\frac{(1-t)^n}{n!}e^{-t}\\;dt=\\left[-\\frac{(1-t)^{n+1}}{(n+1)!}e^{-t}\\right]_0^1-\\int_{0}^{1}\\frac{(1-t)^{n+1}}{(n+1)!}e^{-t}\\;dt=\\frac{1}{(n+1)!}-\\int_{0}^{1}\\frac{(1-t)^{n+1}}{(n+1)!}e^{-t}\\;dt.$$\n\nMais alors,\n\n$$e^{-1}=\\sum_{k=0}^{n+1}\\frac{(-1)^k}{k!}+(-1)^{n+2}\\int_{0}^{1}\\frac{(1-t)^{n+1}}{(n+1)!}e^{-t}\\;dt.$$\n\nLe résultat est démontré par récurrence.\n\nOn en déduit que\n\n$$|p_n-\\frac{1}{e}|=\\left|(-1)^{n+1}\\int_{0}^{1}\\frac{(1-t)^n}{n!}e^{-t}\\;dt\\right|\n=\\int_{0}^{1}\\frac{(1-t)^n}{n!}e^{-t}\\;dt\\leq\\int_{0}^{1}\\frac{(1-t)^n}{n!}\\;dt=\\frac{1}{(n+1)!}.$$\n\nCeci montre que $p_n$ tend très rapidement vers $\\frac{1}{e}$.",
        "html": "<p>Pour <span class=\"math inline\">\\(1\\leq k\\leq n\\)</span>, posons <span class=\"math inline\">\\(A_k=\\{\\sigma\\in S_n/\\;\\sigma(k)=k\\}\\)</span>. L’ensemble des permutations ayant au moins un point fixe est <span class=\"math inline\">\\(A_1\\cup A_2\\cup...\\cup A_n\\)</span>. L’ensemble des permutations sans points fixes est le complémentaire dans <span class=\"math inline\">\\(S_n\\)</span> de <span class=\"math inline\">\\(A_1\\cup A_2\\cup...\\cup A_n\\)</span>.</p>\n<p>D’après 1), leur nombre est donc :</p>\n<p><span class=\"math display\">\\[\\begin{align*}\\ensuremath\n\\mbox{card}(S_n)-\\mbox{card}(A_1\\cup A_2...\\cup A_n)\n&amp;=\\mbox{card}(S_n)-\\sum_{i=1}^{n}\\mbox{card}(A_i)+\\sum_{i&lt;j}^{}\\mbox{card}(A_i\\cap A_j)\\\\\n &amp;-...+(-1)^{k}\\sum_{i_1&lt;i_2&lt;...&lt;i_k}^{}\\mbox{card}(A_{i_1}\\cap...A_{i_k})+...\\\\\n &amp;+(-1)^{n}\\mbox{card}(A_1\\cap...\\cap A_n).\n\\end{align*}\\]</span></p>\n<p><span class=\"math inline\">\\(A_i\\)</span> est l’ensemble des permutations qui fixent <span class=\"math inline\">\\(i\\)</span>. Il y en a <span class=\"math inline\">\\((n-1)!\\)</span> ( nombre de permutations de <span class=\"math inline\">\\(\\{1,...,n\\}\\setminus\\{i\\}\\)</span>). <span class=\"math inline\">\\(A_i\\cap A_j\\)</span> est l’ensemble des permutations qui fixent <span class=\"math inline\">\\(i\\)</span> et <span class=\"math inline\">\\(j\\)</span>. Il y en a <span class=\"math inline\">\\((n-2)!\\)</span>. Plus généralement, <span class=\"math inline\">\\(\\mbox{card}(A_{i_1}\\cap...\\cap A_{i_k})=(n-k)!\\)</span>.</p>\n<p>D’autre part, il y a <span class=\"math inline\">\\(n=C_n^1\\)</span> entiers <span class=\"math inline\">\\(i\\)</span> dans <span class=\"math inline\">\\(\\{1,n\\}\\)</span> puis <span class=\"math inline\">\\(C_n^2\\)</span> couples <span class=\"math inline\">\\((i,j)\\)</span> tels que <span class=\"math inline\">\\(i&lt;j\\)</span> et plus généralement, il y a <span class=\"math inline\">\\(C_n^k\\)</span> <span class=\"math inline\">\\(k\\)</span>-uplets <span class=\"math inline\">\\((i_1,...,i_k)\\)</span> tels que <span class=\"math inline\">\\(i_1&lt;i_2&lt; ...&lt;i_k\\)</span>. Le nombre de dérangements est</p>\n<p><span class=\"math display\">\\[n!+\\sum_{k=1}^{n}(-1)^k\\frac{n!}{k!(n-k)!}(n-k)!=n!\\sum_{k=0}^{n}\\frac{(-1)^k}{k!}.\\]</span></p>\n<p>Ainsi le  problème des chapeaux admet pour réponse</p>\n<p><span class=\"math display\">\\[p_n=\\sum_{k=0}^{n}\\frac{(-1)^k}{k!}.\\]</span></p>\n<p>Montrons que cette suite tend très rapidement vers <span class=\"math inline\">\\(\\frac{1}{e}=0,36...\\)</span> quand <span class=\"math inline\">\\(n\\)</span> tend vers l’infini.</p>\n<p>(On adapte un calcul déjà mené pour le nombre <span class=\"math inline\">\\(e\\)</span>.)</p>\n<p>Montrons que <span class=\"math inline\">\\(\\forall n\\in\\Nn,\\;e^{-1}=\\sum_{k=0}^{n}\\frac{(-1)^k}{k!}+(-1)^{n+1}\\int_{0}^{1}\\frac{(1-t)^n}{n!}e^{-t}\\;dt\\)</span>.</p>\n<p>Pour <span class=\"math inline\">\\(n=0\\)</span>, <span class=\"math inline\">\\((-1)^{n+1}\\int_{O}^{1}\\frac{(1-t)^n}{n!}e^{-t}\\;dt=-\\int_{0}^{1}e^{-t}\\;dt=-1+e^{-1}\\)</span> et donc, on a bien <span class=\"math inline\">\\(e^{-1}=1-\\int_{0}^{1}e^{-t}\\;dt\\)</span>.</p>\n<p>Soit <span class=\"math inline\">\\(n\\geq0\\)</span>. Supposons que <span class=\"math inline\">\\(e^{-1}=\\sum_{k=0}^{n}\\frac{(-1)^k}{k!}+(-1)^{n+1}\\int_{0}^{1}\\frac{(1-t)^n}{n!}e^{-t}\\;dt\\)</span>.</p>\n<p>Une intégration par parties fournit</p>\n<p><span class=\"math display\">\\[\\int_{0}^{1}\\frac{(1-t)^n}{n!}e^{-t}\\;dt=\\left[-\\frac{(1-t)^{n+1}}{(n+1)!}e^{-t}\\right]_0^1-\\int_{0}^{1}\\frac{(1-t)^{n+1}}{(n+1)!}e^{-t}\\;dt=\\frac{1}{(n+1)!}-\\int_{0}^{1}\\frac{(1-t)^{n+1}}{(n+1)!}e^{-t}\\;dt.\\]</span></p>\n<p>Mais alors,</p>\n<p><span class=\"math display\">\\[e^{-1}=\\sum_{k=0}^{n+1}\\frac{(-1)^k}{k!}+(-1)^{n+2}\\int_{0}^{1}\\frac{(1-t)^{n+1}}{(n+1)!}e^{-t}\\;dt.\\]</span></p>\n<p>Le résultat est démontré par récurrence.</p>\n<p>On en déduit que</p>\n<p><span class=\"math display\">\\[|p_n-\\frac{1}{e}|=\\left|(-1)^{n+1}\\int_{0}^{1}\\frac{(1-t)^n}{n!}e^{-t}\\;dt\\right|\n=\\int_{0}^{1}\\frac{(1-t)^n}{n!}e^{-t}\\;dt\\leq\\int_{0}^{1}\\frac{(1-t)^n}{n!}\\;dt=\\frac{1}{(n+1)!}.\\]</span></p>\n<p>Ceci montre que <span class=\"math inline\">\\(p_n\\)</span> tend très rapidement vers <span class=\"math inline\">\\(\\frac{1}{e}\\)</span>.</p>\n"
      }
    }
  ]
}